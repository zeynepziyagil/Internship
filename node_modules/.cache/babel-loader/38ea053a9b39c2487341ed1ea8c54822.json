{"ast":null,"code":"import { FETCH_DATA, TOGGLE_MUGS, TOGGLE_SHIRTS, APPLY_FILTER, FILTER_BRANDS_BY_NAME, CHANGE_PAGE, FILTER_TAGS_BY_NAME, APPLY_TAG_FILTER, TOGGLE_BASKET, ADD_ITEM_TO_BASKET, REMOVE_ITEM_FROM_BASKET, CLOSE_ALERT, HANDLE_SORT } from \"./actions\";\n\nfunction reducer(state, action) {\n  console.log(\"state & action\", {\n    state,\n    action\n  });\n\n  const filterProducts = (brandFilters, tagFilters, mugIsShown) => {\n    let filteredProducts = mugIsShown ? state.mugs : state.shirts;\n\n    if (brandFilters.length) {\n      filteredProducts = filteredProducts.filter(item => {\n        return brandFilters.includes(item.manufacturer);\n      });\n    }\n\n    if (tagFilters.length) {\n      filteredProducts = filteredProducts.filter(item => {\n        const tagsOfCurrentItem = [...item.tags];\n        let tagFound = false;\n\n        for (let i = 0; i < tagsOfCurrentItem.length; i++) {\n          if (tagFilters.includes(tagsOfCurrentItem[i])) {\n            tagFound = true;\n          }\n        }\n\n        return tagFound;\n      });\n    }\n\n    return filteredProducts;\n  };\n\n  if (action.type === FETCH_DATA) {\n    const tempMugArray = action.payload.items.filter(item => {\n      return item.itemType === \"mug\";\n    });\n    const tempShirtArray = action.payload.items.filter(item => {\n      return item.itemType === \"shirt\";\n    });\n    ;\n    const tempDisplayArray = tempMugArray.sort(function (a, b) {\n      return a.price - b.price;\n    });\n    const tempEditedMugArray = tempMugArray.sort(function (a, b) {\n      return a.price - b.price;\n    });\n    const tempEditedShirtArray = tempShirtArray.sort(function (a, b) {\n      return a.price - b.price;\n    });\n    const tempBrandArray = action.payload.companies.sort(function (a, b) {\n      if (a.name < b.name) {\n        return -1;\n      }\n\n      if (a.name > b.name) {\n        return 1;\n      }\n\n      return 0;\n    });\n    let tempTagsArray = [];\n\n    for (let i = 0; i < action.payload.items.length; i++) {\n      tempTagsArray = new Set([...tempTagsArray, ...action.payload.items[i].tags]);\n    }\n\n    const tempEditedTags = Array.from(tempTagsArray).sort((a, b) => a.localeCompare(b));\n    return { ...state,\n      displayArray: tempDisplayArray,\n      shirts: tempShirtArray,\n      mugs: tempMugArray,\n      brands: tempBrandArray,\n      editedShirts: tempEditedShirtArray,\n      editedMugs: tempEditedMugArray,\n      editedBrands: tempBrandArray,\n      tags: tempEditedTags,\n      editedTags: tempEditedTags\n    };\n  }\n\n  if (action.type === TOGGLE_SHIRTS) {\n    const tempDisplayArray = filterProducts(state.filters, state.selectedTags, false);\n    return { ...state,\n      displayArray: tempDisplayArray,\n      isMug: false,\n      displayedPage: 1\n    };\n  }\n\n  if (action.type === TOGGLE_MUGS) {\n    const tempDisplayArray = filterProducts(state.filters, state.selectedTags, true);\n    return { ...state,\n      displayArray: tempDisplayArray,\n      isMug: true,\n      displayedPage: 1\n    };\n  }\n\n  if (action.type === HANDLE_SORT) {\n    if (action.payload.eventValue === \"lowToHigh\") {\n      const tempShirtArray = state.shirts.sort(function (a, b) {\n        return a.price - b.price;\n      });\n      const tempMugArray = state.mugs.sort(function (a, b) {\n        return a.price - b.price;\n      });\n      const tempEditedShirtArray = state.editedShirts.sort(function (a, b) {\n        return a.price - b.price;\n      });\n      const tempEditedMugArray = state.editedMugs.sort(function (a, b) {\n        return a.price - b.price;\n      });\n      const tempDisplayArray = state.displayArray.sort(function (a, b) {\n        return a.price - b.price;\n      });\n      return { ...state,\n        displayArray: tempDisplayArray,\n        sortingType: action.payload.eventValue,\n        editedShirts: tempEditedShirtArray,\n        editedMugs: tempEditedMugArray,\n        mugs: tempMugArray,\n        shirts: tempShirtArray,\n        displayedPage: 1\n      };\n    }\n\n    if (action.payload.eventValue === \"highToLow\") {\n      const tempShirtArray = state.shirts.sort(function (a, b) {\n        return b.price - a.price;\n      });\n      const tempMugArray = state.mugs.sort(function (a, b) {\n        return b.price - a.price;\n      });\n      const tempEditedShirtArray = state.editedShirts.sort(function (a, b) {\n        return b.price - a.price;\n      });\n      const tempEditedMugArray = state.editedMugs.sort(function (a, b) {\n        return b.price - a.price;\n      });\n      const tempDisplayArray = state.displayArray.sort(function (a, b) {\n        return b.price - a.price;\n      });\n      return { ...state,\n        displayArray: tempDisplayArray,\n        sortingType: action.payload.eventValue,\n        editedShirts: tempEditedShirtArray,\n        editedMugs: tempEditedMugArray,\n        mugs: tempMugArray,\n        shirts: tempShirtArray,\n        displayedPage: 1\n      };\n    }\n\n    if (action.payload.eventValue === \"newToOld\") {\n      const tempShirtArray = state.shirts.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      const tempMugArray = state.mugs.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      const tempEditedShirtArray = state.editedShirts.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      const tempEditedMugArray = state.editedMugs.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      const tempDisplayArray = state.displayArray.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      return { ...state,\n        displayArray: tempDisplayArray,\n        sortingType: action.payload.eventValue,\n        editedShirts: tempEditedShirtArray,\n        editedMugs: tempEditedMugArray,\n        mugs: tempMugArray,\n        shirts: tempShirtArray,\n        displayedPage: 1\n      };\n    }\n\n    if (action.payload.eventValue === \"oldToNew\") {\n      const tempShirtArray = state.shirts.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      const tempMugArray = state.mugs.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      const tempEditedShirtArray = state.editedShirts.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      const tempEditedMugArray = state.editedMugs.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      const tempDisplayArray = state.displayArray.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      return { ...state,\n        displayArray: tempDisplayArray,\n        sortingType: action.payload.eventValue,\n        editedShirts: tempEditedShirtArray,\n        editedMugs: tempEditedMugArray,\n        mugs: tempMugArray,\n        shirts: tempShirtArray,\n        displayedPage: 1\n      };\n    }\n\n    return state;\n  }\n\n  if (action.type === APPLY_FILTER) {\n    if (action.payload.eventType) {\n      const tempFilters = [...state.filters, action.payload.eventValue];\n      const tempDisplayArray = filterProducts(tempFilters, state.selectedTags, state.isMug);\n      return { ...state,\n        filters: tempFilters,\n        displayArray: tempDisplayArray,\n        displayedPage: 1\n      };\n    } else {\n      const tempFilters = state.filters.filter(filter => {\n        return filter !== action.payload.eventValue;\n      });\n      const tempDisplayArray = filterProducts(tempFilters, state.selectedTags, state.isMug);\n      return { ...state,\n        filters: tempFilters,\n        displayArray: tempDisplayArray,\n        displayedPage: 1\n      };\n    }\n  }\n\n  if (action.type === APPLY_TAG_FILTER) {\n    if (action.payload.eventType) {\n      const tempSelectedTags = [...state.selectedTags, action.payload.eventValue];\n      const tempDisplayArray = filterProducts(state.filters, tempSelectedTags, state.isMug);\n      return { ...state,\n        selectedTags: tempSelectedTags,\n        displayArray: tempDisplayArray,\n        displayedPage: 1\n      };\n    } else {\n      const tempSelectedTags = state.selectedTags.filter(tag => {\n        return tag !== action.payload.eventValue;\n      });\n      const tempDisplayArray = filterProducts(state.filters, tempSelectedTags, state.isMug);\n      return { ...state,\n        selectedTags: tempSelectedTags,\n        displayArray: tempDisplayArray,\n        displayedPage: 1\n      };\n    }\n  }\n\n  if (action.type === FILTER_BRANDS_BY_NAME) {\n    if (action.payload.eventValue === \"\") {\n      return { ...state,\n        editedBrands: state.brands\n      };\n    } else {\n      const tempEditedBrands = state.brands.filter(function (brand) {\n        return brand.name.toLowerCase().includes(action.payload.eventValue);\n      });\n      return { ...state,\n        editedBrands: tempEditedBrands\n      };\n    }\n  }\n\n  if (action.type === FILTER_TAGS_BY_NAME) {\n    if (action.payload.eventValue === \"\") {\n      return { ...state,\n        editedTags: state.tags\n      };\n    } else {\n      const tempEditedTags = state.tags.filter(function (tag) {\n        return tag.toLowerCase().includes(action.payload.eventValue);\n      });\n      return { ...state,\n        editedTags: tempEditedTags\n      };\n    }\n  }\n\n  if (action.type === CHANGE_PAGE) {\n    return { ...state,\n      displayedPage: action.payload.value\n    };\n  }\n\n  if (action.type === TOGGLE_BASKET) {\n    if (state.basketboolean) {\n      return { ...state,\n        basketboolean: false\n      };\n    } else {\n      return { ...state,\n        basketIsShown: true\n      };\n    }\n  }\n\n  if (action.type === ADD_ITEM_TO_BASKET) {\n    let alreadyInBasket = false;\n    let theIndex = -1;\n\n    for (let i = 0; i < state.basket.length; i++) {\n      if (state.basket[i].id === action.payload.item.id) {\n        alreadyInBasket = true;\n        theIndex = i;\n      }\n    }\n\n    if (alreadyInBasket) {\n      const tempBasketArray = state.basket;\n      tempBasketArray[theIndex].amount = tempBasketArray[theIndex].amount + 1;\n      return { ...state,\n        totalPrice: state.totalPrice + action.payload.item.price,\n        basket: tempBasketArray\n      };\n    } else {\n      console.log(action.payload.item.name);\n      const tempBasketArray = [...state.basket, {\n        name: action.payload.item.name,\n        price: action.payload.item.price,\n        id: action.payload.item.id,\n        amount: 1\n      }];\n      return { ...state,\n        totalPrice: state.totalPrice + action.payload.item.price,\n        basket: tempBasketArray,\n        showAlert: true\n      };\n    }\n  }\n\n  if (action.type === REMOVE_ITEM_FROM_BASKET) {\n    let tempBasketArray = state.basket;\n    let theIndex = -1;\n\n    for (let i = 0; i < state.basket.length; i++) {\n      if (state.basket[i].id === action.payload.item.id) {\n        theIndex = i;\n        tempBasketArray[i].amount = tempBasketArray[i].amount - 1;\n      }\n    }\n\n    if (tempBasketArray[theIndex].amount === 0) {\n      tempBasketArray = tempBasketArray.filter(item => {\n        return item.id !== action.payload.item.id;\n      });\n    }\n\n    return { ...state,\n      totalPrice: state.totalPrice - action.payload.item.price,\n      basket: tempBasketArray\n    };\n  }\n\n  if (action.type === CLOSE_ALERT) {\n    return { ...state,\n      showAlert: false\n    };\n  }\n\n  console.log(\"No matching action type\");\n  return state;\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/zeynepbusraziyagil/Desktop/aaaaa/reactOneInternshipFinalProject/src/reducer.js"],"names":["FETCH_DATA","TOGGLE_MUGS","TOGGLE_SHIRTS","APPLY_FILTER","FILTER_BRANDS_BY_NAME","CHANGE_PAGE","FILTER_TAGS_BY_NAME","APPLY_TAG_FILTER","TOGGLE_BASKET","ADD_ITEM_TO_BASKET","REMOVE_ITEM_FROM_BASKET","CLOSE_ALERT","HANDLE_SORT","reducer","state","action","console","log","filterProducts","brandFilters","tagFilters","mugIsShown","filteredProducts","mugs","shirts","length","filter","item","includes","manufacturer","tagsOfCurrentItem","tags","tagFound","i","type","tempMugArray","payload","items","itemType","tempShirtArray","tempDisplayArray","sort","a","b","price","tempEditedMugArray","tempEditedShirtArray","tempBrandArray","companies","name","tempTagsArray","Set","tempEditedTags","Array","from","localeCompare","displayArray","brands","editedShirts","editedMugs","editedBrands","editedTags","filters","selectedTags","isMug","displayedPage","eventValue","sortingType","id","eventType","tempFilters","tempSelectedTags","tag","tempEditedBrands","brand","toLowerCase","value","basketboolean","basketIsShown","alreadyInBasket","theIndex","basket","tempBasketArray","amount","totalPrice","showAlert"],"mappings":"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","sourcesContent":["import {\n    FETCH_DATA, TOGGLE_MUGS, TOGGLE_SHIRTS, \n    APPLY_FILTER, FILTER_BRANDS_BY_NAME, CHANGE_PAGE, FILTER_TAGS_BY_NAME, APPLY_TAG_FILTER,\n    TOGGLE_BASKET, ADD_ITEM_TO_BASKET, REMOVE_ITEM_FROM_BASKET, CLOSE_ALERT, HANDLE_SORT,\n} from \"./actions\";\n\n\nfunction reducer(state, action) {\n    console.log(\"state & action\", { state, action })\n    const filterProducts = (brandFilters, tagFilters, mugIsShown) => {\n        let filteredProducts = mugIsShown ? (state.mugs) : (state.shirts);\n        if (brandFilters.length) {\n            filteredProducts = filteredProducts.filter((item) => {\n                return (\n                    brandFilters.includes(item.manufacturer)\n                )\n            });\n        }\n        if (tagFilters.length) {\n            filteredProducts = filteredProducts.filter((item) => {\n                const tagsOfCurrentItem = [...item.tags];\n                let tagFound = false;\n                for (let i = 0; i < tagsOfCurrentItem.length; i++) {\n                    if (tagFilters.includes(tagsOfCurrentItem[i])) {\n                        tagFound = true;\n                    }\n                }\n                return tagFound;\n            })\n        }\n        return filteredProducts;\n    }\n    if (action.type === FETCH_DATA) {\n        const tempMugArray = action.payload.items.filter((item) => {\n            return item.itemType === \"mug\";\n        });\n        const tempShirtArray = action.payload.items.filter((item) => {\n            return item.itemType === \"shirt\";\n        });;\n        const tempDisplayArray = tempMugArray.sort(function (a, b) { return a.price - b.price });\n        const tempEditedMugArray = tempMugArray.sort(function (a, b) { return a.price - b.price });\n        const tempEditedShirtArray = tempShirtArray.sort(function (a, b) { return a.price - b.price });\n        const tempBrandArray = action.payload.companies.sort(function (a, b) {\n            if (a.name < b.name) { return -1; }\n            if (a.name > b.name) { return 1; }\n            return 0;\n        });\n\n        let tempTagsArray = [];\n        for (let i = 0; i < action.payload.items.length; i++) {\n            tempTagsArray = new Set([...tempTagsArray, ...action.payload.items[i].tags]);\n        }\n        const tempEditedTags = Array.from(tempTagsArray).sort((a, b) => a.localeCompare(b));\n        return {\n            ...state,\n            displayArray: tempDisplayArray,\n            shirts: tempShirtArray,\n            mugs: tempMugArray,\n            brands: tempBrandArray,\n            editedShirts: tempEditedShirtArray,\n            editedMugs: tempEditedMugArray,\n            editedBrands: tempBrandArray,\n            tags: tempEditedTags,\n            editedTags: tempEditedTags,\n        };\n    }\n    if (action.type === TOGGLE_SHIRTS) {\n        const tempDisplayArray = filterProducts(state.filters, state.selectedTags, false);\n        return {\n            ...state,\n            displayArray: tempDisplayArray,\n            isMug: false,\n            displayedPage: 1\n        }\n    }\n    if (action.type === TOGGLE_MUGS) {\n        const tempDisplayArray = filterProducts(state.filters, state.selectedTags, true);\n        return {\n            ...state,\n            displayArray: tempDisplayArray,\n            isMug: true,\n            displayedPage: 1\n        }\n    }\n    if (action.type === HANDLE_SORT) {\n        if (action.payload.eventValue === \"lowToHigh\") {\n            const tempShirtArray = state.shirts.sort(function (a, b) { return a.price - b.price });\n            const tempMugArray = state.mugs.sort(function (a, b) { return a.price - b.price });\n            const tempEditedShirtArray = state.editedShirts.sort(function (a, b) { return a.price - b.price });\n            const tempEditedMugArray = state.editedMugs.sort(function (a, b) { return a.price - b.price });\n            const tempDisplayArray = state.displayArray.sort(function (a, b) { return a.price - b.price });\n            return {\n                ...state,\n                displayArray: tempDisplayArray,\n                sortingType: action.payload.eventValue,\n                editedShirts: tempEditedShirtArray,\n                editedMugs: tempEditedMugArray,\n                mugs: tempMugArray,\n                shirts: tempShirtArray,\n                displayedPage: 1\n            }\n        }\n        if (action.payload.eventValue === \"highToLow\") {\n            const tempShirtArray = state.shirts.sort(function (a, b) { return b.price - a.price });\n            const tempMugArray = state.mugs.sort(function (a, b) { return b.price - a.price });\n            const tempEditedShirtArray = state.editedShirts.sort(function (a, b) { return b.price - a.price });\n            const tempEditedMugArray = state.editedMugs.sort(function (a, b) { return b.price - a.price });\n            const tempDisplayArray = state.displayArray.sort(function (a, b) { return b.price - a.price });\n            return {\n                ...state,\n                displayArray: tempDisplayArray,\n                sortingType: action.payload.eventValue,\n                editedShirts: tempEditedShirtArray,\n                editedMugs: tempEditedMugArray,\n                mugs: tempMugArray,\n                shirts: tempShirtArray,\n                displayedPage: 1\n            }\n        }\n        if (action.payload.eventValue === \"newToOld\") {\n            const tempShirtArray = state.shirts.sort(function (a, b) { return a.id - b.id });\n            const tempMugArray = state.mugs.sort(function (a, b) { return a.id - b.id });\n            const tempEditedShirtArray = state.editedShirts.sort(function (a, b) { return a.id - b.id });\n            const tempEditedMugArray = state.editedMugs.sort(function (a, b) { return a.id - b.id });\n            const tempDisplayArray = state.displayArray.sort(function (a, b) { return a.id - b.id });\n            return {\n                ...state,\n                displayArray: tempDisplayArray,\n                sortingType: action.payload.eventValue,\n                editedShirts: tempEditedShirtArray,\n                editedMugs: tempEditedMugArray,\n                mugs: tempMugArray,\n                shirts: tempShirtArray,\n                displayedPage: 1\n            }\n        }\n        if (action.payload.eventValue === \"oldToNew\") {\n            const tempShirtArray = state.shirts.sort(function (a, b) { return b.id - a.id });\n            const tempMugArray = state.mugs.sort(function (a, b) { return b.id - a.id });\n            const tempEditedShirtArray = state.editedShirts.sort(function (a, b) { return b.id - a.id });\n            const tempEditedMugArray = state.editedMugs.sort(function (a, b) { return b.id - a.id });\n            const tempDisplayArray = state.displayArray.sort(function (a, b) { return b.id - a.id });\n            return {\n                ...state,\n                displayArray: tempDisplayArray,\n                sortingType: action.payload.eventValue,\n                editedShirts: tempEditedShirtArray,\n                editedMugs: tempEditedMugArray,\n                mugs: tempMugArray,\n                shirts: tempShirtArray,\n                displayedPage: 1\n            }\n        }\n        return state;\n    }\n    if (action.type === APPLY_FILTER) {\n        if (action.payload.eventType) {\n            const tempFilters = [...state.filters, action.payload.eventValue];\n            const tempDisplayArray = filterProducts(tempFilters, state.selectedTags, state.isMug);\n            return {\n                ...state,\n                filters: tempFilters,\n                displayArray: tempDisplayArray,\n                displayedPage: 1\n            }\n        }\n        else {\n            const tempFilters = state.filters.filter((filter) => {\n                return filter !== action.payload.eventValue;\n            });\n            const tempDisplayArray = filterProducts(tempFilters, state.selectedTags, state.isMug);\n            return {\n                ...state,\n                filters: tempFilters,\n                displayArray: tempDisplayArray,\n                displayedPage: 1\n            }\n        }\n    }\n    if (action.type === APPLY_TAG_FILTER) {\n        if (action.payload.eventType) {\n            const tempSelectedTags = [...state.selectedTags, action.payload.eventValue];\n            const tempDisplayArray = filterProducts(state.filters, tempSelectedTags, state.isMug);\n            return {\n                ...state,\n                selectedTags: tempSelectedTags,\n                displayArray: tempDisplayArray,\n                displayedPage: 1\n            }\n        }\n        else {\n            const tempSelectedTags = state.selectedTags.filter((tag) => {\n                return tag !== action.payload.eventValue;\n            });\n            const tempDisplayArray = filterProducts(state.filters, tempSelectedTags, state.isMug);\n            return {\n                ...state,\n                selectedTags: tempSelectedTags,\n                displayArray: tempDisplayArray,\n                displayedPage: 1\n            }\n        }\n    }\n    if (action.type === FILTER_BRANDS_BY_NAME) {\n        if (action.payload.eventValue === \"\") {\n            return {\n                ...state,\n                editedBrands: state.brands\n            }\n        }\n        else {\n            const tempEditedBrands = state.brands.filter(function (brand) { return brand.name.toLowerCase().includes(action.payload.eventValue); })\n            return {\n                ...state,\n                editedBrands: tempEditedBrands\n            }\n        }\n    }\n    if (action.type === FILTER_TAGS_BY_NAME) {\n        if (action.payload.eventValue === \"\") {\n            return {\n                ...state,\n                editedTags: state.tags\n            }\n        }\n        else {\n            const tempEditedTags = state.tags.filter(function (tag) { return tag.toLowerCase().includes(action.payload.eventValue); })\n            return {\n                ...state,\n                editedTags: tempEditedTags\n            }\n        }\n    }\n    if (action.type === CHANGE_PAGE) {\n        return {\n            ...state,\n            displayedPage: action.payload.value\n        }\n    }\n    if (action.type === TOGGLE_BASKET) {\n        if (state. basketboolean) {\n            return {\n                ...state,\n                 basketboolean: false,\n            }\n        }\n        else {\n            return {\n                ...state,\n                basketIsShown: true,\n            }\n        }\n    }\n    if (action.type === ADD_ITEM_TO_BASKET) {\n        let alreadyInBasket = false;\n        let theIndex = -1;\n        for (let i = 0; i < state.basket.length; i++) {\n            if (state.basket[i].id === action.payload.item.id) {\n                alreadyInBasket = true;\n                theIndex = i;\n            }\n        }\n        if (alreadyInBasket) {\n            const tempBasketArray = state.basket;\n            tempBasketArray[theIndex].amount = tempBasketArray[theIndex].amount + 1;\n            return {\n                ...state,\n                totalPrice: state.totalPrice + action.payload.item.price,\n                basket: tempBasketArray,\n            };\n        }\n        else {\n            console.log(action.payload.item.name);\n            const tempBasketArray = [...state.basket, { name: action.payload.item.name, price: action.payload.item.price, id: action.payload.item.id, amount: 1 }];\n            return {\n                ...state,\n                totalPrice: state.totalPrice + action.payload.item.price,\n                basket: tempBasketArray,\n                showAlert: true\n            };\n        }\n    }\n    if (action.type === REMOVE_ITEM_FROM_BASKET) {\n        let tempBasketArray = state.basket;\n        let theIndex = -1;\n        for (let i = 0; i < state.basket.length; i++) {\n            if (state.basket[i].id === action.payload.item.id) {\n                theIndex = i;\n                tempBasketArray[i].amount = tempBasketArray[i].amount - 1;\n            }\n        }\n        if (tempBasketArray[theIndex].amount === 0) {\n            tempBasketArray = tempBasketArray.filter((item) => {\n                return item.id !== action.payload.item.id;\n            });\n        }\n        return {\n            ...state,\n            totalPrice: state.totalPrice - action.payload.item.price,\n            basket: tempBasketArray,\n        }\n    }\n    if (action.type === CLOSE_ALERT) {\n        return {\n            ...state,\n            showAlert: false\n        }\n    }\n    console.log(\"No matching action type\");\n    return state;\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}